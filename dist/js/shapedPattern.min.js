(function(){function e(e,t){this.type=e,this.data=t}function t(e,t,a){return t-b<=e&&e<=a+b||a-b<=e&&e<=t+b}function a(e){var t,a,n=3*e.cubicY.a,i=2*e.cubicY.b,o=e.cubicY.c,u=3*e.cubicX.a,v=2*e.cubicX.b,s=e.cubicX.c,f=[];0!=n&&0!=i?a=r(n,i,o):0==n&&0!=i&&(a=l(i,o)),0!=u&&0!=v?t=r(u,v,s):0==u&&0!=v&&(t=l(v,s));for(var h=Array.prototype.concat(t,a),p=0;p<h.length;p++){var c=h[p];-1!=c&&0!=c&&1!=c&&f.push(c)}return f}function n(e){return[0,Math.PI/2,Math.PI,3*Math.PI/2,2*Math.PI]}function l(e,t){return result=-t/e,(result<-b||result>1+b)&&(result=-1),[result]}function r(e,t,a){var n=t*t-4*e*a,i=[];n>0?(i[0]=(-t-Math.sqrt(n))/(2*e),i[1]=(-t+Math.sqrt(n))/(2*e)):0==n&&(i[0]=-t/2/e);for(var l in i)(i[l]<-b||i[l]>1+b)&&(i[l]=-1);return i}function o(e,t,a,n){var i=t/e,l=a/e,r=n/e,o=(3*l-Math.pow(i,2))/9,u=(9*i*l-27*r-2*Math.pow(i,3))/54,v=[];if((n=Math.pow(o,3)+Math.pow(u,2))>=0){var s=Math.sign(u+Math.sqrt(n))*Math.pow(Math.abs(u+Math.sqrt(n)),1/3),f=Math.sign(u-Math.sqrt(n))*Math.pow(Math.abs(u-Math.sqrt(n)),1/3);v[0]=-i/3+(s+f),v[1]=-i/3-(s+f)/2,0!=Math.abs(Math.sqrt(3)*(s-f)/2)&&(v[1]=-1)}else{var h=Math.acos(u/Math.sqrt(-Math.pow(o,3)));v[0]=2*Math.sqrt(-o)*Math.cos(h/3)-i/3,v[1]=2*Math.sqrt(-o)*Math.cos((h+2*Math.PI)/3)-i/3,v[2]=2*Math.sqrt(-o)*Math.cos((h+4*Math.PI)/3)-i/3}for(var p=0;p<3;p++)(v[p]<-b||v[p]>1+b)&&(v[p]=-1);return v}function u(e,t,a,n){this.a=e,this.b=t,this.c=a,this.d=n}function v(e,t){this.u=e,this.a=t}function s(e,t){this.v=e,this.b=t}function f(e,t,a,n,i,l,r,o){var v=3*n-t-3*l+o,s=3*t-6*n+3*l,f=-3*t+3*n,h=t;this.cubicY=new u(v,s,f,h),v=3*a-e-3*i+r,s=3*e-6*a+3*i,f=-3*e+3*a,h=e,this.cubicX=new u(v,s,f,h)}function h(e,t,a,n){this.parametricX=new v(a,e),this.parametricY=new s(n,t)}function p(e,t){this.t=t,this.x=e.cubicX.apply(t),this.y=e.cubicY.apply(t)}function c(e,t){this.t=t,this.x=e.parametricX.apply(t),this.y=e.parametricY.apply(t)}function M(e,t){var a=e.x-t.x,n=t.y-e.y;return a*a+n*n}function g(e,t,a){return new t.constructor(e,(t.t+a.t)/2)}function y(e,a,n,i,l,r){if((t(n.x,l.x,r.x)||t(i.x,l.x,r.x)||t(l.x,n.x,i.x)||t(r.x,n.x,i.x))&&(t(n.y,l.y,r.y)||t(i.y,l.y,r.y)||t(l.y,n.y,i.y)||t(r.y,n.y,i.y))){if(M(n,i)<1e-13)return[[n,i,l,r]];var o=g(e,n,i),u=g(a,l,r),v=y(e,a,n,o,l,u),s=y(e,a,o,i,l,u),f=y(e,a,n,o,u,r),h=y(e,a,o,i,u,r);return Array.prototype.concat(v,s,f,h)}return[]}function d(e,t){for(var a,n=0;n<t.length;n++){a=t[n];for(var i,l=!0,r=0;r<e.length;r++)i=e[r],Math.floor(1e4*a[0].x)==Math.floor(1e4*i[0])&&Math.floor(1e4*a[0].y)==Math.floor(1e4*i[1])&&(l=!1);l&&e.push([a[0].x,a[0].y,a[0].t])}return e}var w={},x=this,P=x.Intersection;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports.Intersection=w):x.Intersection=w,w.noConflict=function(){return x.Intersection=P,w};var b=1e-8;return u.prototype.apply=function(e){return this.d+e*(this.c+e*(this.b+e*this.a))},v.prototype.apply=function(e){return this.u+this.a*Math.cos(e)},s.prototype.apply=function(e){return this.v+this.b*Math.sin(e)},w.intersectionLineLine=function(a,n){var i=a.array(),l=n.array();for(var r in i.value)if("L"==i.value[r][0])var o=i.value[r-1][i.value[r-1].length-2],u=i.value[r-1][i.value[r-1].length-1],v=i.value[r][1],s=i.value[r][2];for(var f in l.value)if("L"==l.value[f][0])var h=l.value[f-1][l.value[f-1].length-2],p=l.value[f-1][l.value[f-1].length-1],c=l.value[f][1],M=l.value[f][2];var g=(o-v)*(p-M)-(h-c)*(u-s),y=((o*s-v*u)*(h-c)-(h*M-c*p)*(o-v))/g,d=((o*s-v*u)*(p-M)-(h*M-c*p)*(u-s))/g;if(o==v&&o==h&&o==c&&u==s&&u==p&&u==M)w=new e("point",[[o,o]]);else if(isFinite(y)&&t(y,o,v)&&t(d,u,s)&&t(y,h,c)&&t(d,p,M))w=new e("point",[[y,d]]);else var w=new e("empty",[[]]);return w},w.intersectionEllipseLine=function(a,n){var i=a.cx(),l=a.cy(),r=a.rx(),o=a.ry(),u=n.array();for(var v in u.value)if("L"==u.value[v][0])var s=u.value[v-1][u.value[v-1].length-2],f=u.value[v-1][u.value[v-1].length-1],h=u.value[v][1],p=u.value[v][2];var c=[];if(s==h){if(i-r<=(s=s)&&i+r>=s){var M=l+Math.sqrt(1-(s-i)*(s-i)/(r*r))*o,g=l+-Math.sqrt(1-(s-i)*(s-i)/(r*r))*o;if(M==g)isFinite(M)&&t(M,f,p)&&(c=[[s,M]]);else{m=[g,M];for(var y in m)isFinite(m[y])&&t(m[y],f,p)&&c.push([s,m[y]])}}}else{var d=(p-f)/(h-s),w=f-s*d,x=1/(r*r),P=1/(o*o),b=-2*x*i+P*(2*d*w-2*d*l),z=x*i*i+P*(w*w-2*w*l+l*l)-1,j=b*b-4*(v=x+P*d*d)*z;if(j>0){L=[(-b-Math.sqrt(b*b-4*v*z))/(2*v),(-b+Math.sqrt(b*b-4*v*z))/(2*v)];for(var y in L)if(isFinite(L[y])&&t(L[y],s,h)){m=d*L[y]+w;isFinite(m)&&t(m,f,p)&&c.push([L[y],m])}}else if(0==j){var L=-b/(2*v);if(isFinite(L)&&t(L,s,h)){var m=d*L+w;isFinite(m)&&t(m,f,p)&&(c=[[L,m]])}}}if(c==[])C=new e("empty",[[]]);else var C=new e("point",c);return C},w.intersectionBezierLine=function(a,n){var i=n.array(),u=a.array();for(var v in i.value)if("L"==i.value[v][0])var s=i.value[v-1][i.value[v-1].length-2],f=i.value[v-1][i.value[v-1].length-1],h=i.value[v][1],p=i.value[v][2];var c,M,g,y,d,w,x,P;for(v in u.value)"C"==u.value[v][0]&&(c=u.value[v-1][u.value[v-1].length-2],M=u.value[v-1][u.value[v-1].length-1],g=u.value[v][1],y=u.value[v][2],d=u.value[v][3],w=u.value[v][4],x=u.value[v][5],P=u.value[v][6]);var b=3*y-M-3*w+P,z=3*M-6*y+3*w,L=-3*M+3*y,m=3*g-c-3*d+x,C=3*c-6*g+3*d,I=-3*c+3*g,k=s-h,O=p-f,q=s*(f-p)+f*(h-s);s==h?(k=0,O=-1,q=s):f==p&&(k=-1,O=0,q=f);var S=k*b+O*m,B=k*z+O*C,E=k*L+O*I,F=k*M+O*c+q,X=null;X=0==S?0==B?l(E,F):r(B,E,F):o(S,B,E,F);var Y=[];for(v in X)if(-1!=X[v]){var A=X[v]*X[v]*X[v]*m+X[v]*X[v]*C+X[v]*I+c,Z=X[v]*X[v]*X[v]*b+X[v]*X[v]*z+X[v]*L+M;for(j in Y)Y[j][0]==A&&Y[j][1]==Z&&(A=h+1);t(A,s,h)&&t(Z,f,p)&&Y.push([A,Z,X[v]])}if(0!=Y.length)R=new e("point",Y);else var R=new e("empty",[[]]);return R},w.intersectionBezierEllipse=function(t,i){var l,r,o,u,v,s,M,g,w=t.array();for(C in w.value)"C"==w.value[C][0]&&(l=w.value[C-1][w.value[C-1].length-2],r=w.value[C-1][w.value[C-1].length-1],o=w.value[C][1],u=w.value[C][2],v=w.value[C][3],s=w.value[C][4],M=w.value[C][5],g=w.value[C][6]);var x=i.cx(),P=i.cy(),b=i.rx(),z=i.ry();if(bezier=new f(l,r,o,u,v,s,M,g),i=new h(b,z,x,P),k=new p(bezier,0),O=new p(bezier,1),j=new c(i,0),L=new c(i,2*Math.PI),inflexionPoints1=a(bezier),inflexionPoints2=n(),solutions=[],0==inflexionPoints1.length)for(C=1;C<inflexionPoints2.length;C++){var j=new c(i,inflexionPoints2[C-1]),L=new c(i,inflexionPoints2[C]),m=y(bezier,i,k,O,j,L);solutions=d(solutions,m)}else{inflexionPoints1.push(0,1),inflexionPoints1.sort(function(e,t){return e>t});for(var C=1;C<inflexionPoints1.length;C++)for(var I=1;I<inflexionPoints2.length;I++){var k=new p(bezier,inflexionPoints1[C-1]),O=new p(bezier,inflexionPoints1[C]),j=new c(i,inflexionPoints2[I-1]),L=new c(i,inflexionPoints2[I]),m=y(bezier,i,k,O,j,L);solutions=d(solutions,m)}}if(0!=solutions.length)q=new e("point",solutions);else var q=new e("empty",[[]]);return q},w.intersectionBezierBezier=function(t,n){var i,l,r,o,u,v,s,h,c=t.array();for(q in c.value)"C"==c.value[q][0]&&(i=c.value[q-1][c.value[q-1].length-2],l=c.value[q-1][c.value[q-1].length-1],r=c.value[q][1],o=c.value[q][2],u=c.value[q][3],v=c.value[q][4],s=c.value[q][5],h=c.value[q][6]);var M,g,w,x,P,b,z,j,L=n.array();for(q in L.value)"C"==L.value[q][0]&&(M=L.value[q-1][L.value[q-1].length-2],g=L.value[q-1][L.value[q-1].length-1],w=L.value[q][1],x=L.value[q][2],P=L.value[q][3],b=L.value[q][4],z=L.value[q][5],j=L.value[q][6]);bezier1=new f(i,l,r,o,u,v,s,h),bezier2=new f(M,g,w,x,P,b,z,j),C=new p(bezier1,0),I=new p(bezier1,1),k=new p(bezier2,0),O=new p(bezier2,1),inflexionPoints1=a(bezier1),inflexionPoints2=a(bezier2);var m=[];if(0==inflexionPoints1.length&&0==inflexionPoints2.length)m=d(m,B=y(bezier1,bezier2,C,I,k,O));else if(0==inflexionPoints2.length){inflexionPoints1.push(0,1),inflexionPoints1.sort(function(e,t){return e>t});for(q=1;q<inflexionPoints1.length;q++){var C=new p(bezier1,inflexionPoints1[q-1]),I=new p(bezier1,inflexionPoints1[q]);m=d(m,B=y(bezier1,bezier2,C,I,k,O))}}else if(0==inflexionPoints1.length){inflexionPoints2.push(0,1),inflexionPoints2.sort(function(e,t){return e>t});for(q=1;q<inflexionPoints2.length;q++){var k=new p(bezier2,inflexionPoints2[q-1]),O=new p(bezier2,inflexionPoints2[q]);m=d(m,B=y(bezier1,bezier2,C,I,k,O))}}else{inflexionPoints1.push(0,1),inflexionPoints2.push(0,1),inflexionPoints1.sort(function(e,t){return e>t}),inflexionPoints2.sort(function(e,t){return e>t});for(var q=1;q<inflexionPoints1.length;q++)for(var S=1;S<inflexionPoints2.length;S++){var C=new p(bezier1,inflexionPoints1[q-1]),I=new p(bezier1,inflexionPoints1[q]),k=new p(bezier2,inflexionPoints2[S-1]),O=new p(bezier2,inflexionPoints2[S]),B=y(bezier1,bezier2,C,I,k,O);m=d(m,B)}}if(0!=m.length)E=new e("point",m);else var E=new e("empty",[[]]);return E},w.intersectionPathPath=function(t,a){var n,l,r,o,u,v,s,f,h=[],p=t.array();for(i in p.value)if("C"==p.value[i][0]){n=p.value[i-1][p.value[i-1].length-2],l=p.value[i-1][p.value[i-1].length-1],r=p.value[i][1],o=p.value[i][2],u=p.value[i][3],v=p.value[i][4],s=p.value[i][5],f=p.value[i][6];var c=svgOut.path("M "+n+" "+l+" C "+r+" "+o+" "+u+" "+v+" "+s+" "+f).stroke({width:0,color:"hsla(0,100%,50%,0.5)"}).fill("none"),M=a.array();for(j in M.value)if("C"==M.value[j][0]){g=M.value[j-1][M.value[j-1].length-2],y=M.value[j-1][M.value[j-1].length-1],d=M.value[j][1],x=M.value[j][2],P=M.value[j][3],b=M.value[j][4],z=M.value[j][5],L=M.value[j][6];m=svgOut.path("M "+g+" "+y+" C "+d+" "+x+" "+P+" "+b+" "+z+" "+L).stroke({width:0,color:"hsla(120,100%,50%,0.5)"}).fill("none");if("empty"!=(I=w.intersectionBezierBezier(c,m)).type)for(C=0;C<I.data.length;C++)h.push(I.data[C])}else if("L"==M.value[j][0]){g=M.value[j-1][M.value[j-1].length-2],y=M.value[j-1][M.value[j-1].length-1],d=M.value[j][1],x=M.value[j][2];m=svgOut.path("M "+g+" "+y+" L "+d+" "+x).stroke({width:0,color:"hsla(240,100%,50%,0.5)"}).fill("none");if("empty"!=(I=w.intersectionBezierLine(c,m)).type)for(C=0;C<I.data.length;C++)h.push(I.data[C])}}else if("L"==p.value[i][0]){n=p.value[i-1][p.value[i-1].length-2],l=p.value[i-1][p.value[i-1].length-1],r=p.value[i][1],o=p.value[i][2];var g,y,d,x,P,b,z,L,c=svgOut.path("M "+n+" "+l+" L "+r+" "+o).stroke({width:0,color:"hsla(50,100%,50%,0.5)"}).fill("none"),M=a.array();for(j in M.value)if("C"==M.value[j][0]){g=M.value[j-1][M.value[j-1].length-2],y=M.value[j-1][M.value[j-1].length-1],d=M.value[j][1],x=M.value[j][2],P=M.value[j][3],b=M.value[j][4],z=M.value[j][5],L=M.value[j][6];m=svgOut.path("M "+g+" "+y+" C "+d+" "+x+" "+P+" "+b+" "+z+" "+L).stroke({width:0,color:"hsla(170,100%,50%,0.5)"}).fill("none");if("empty"!=(I=w.intersectionBezierLine(m,c)).type)for(C=0;C<I.data.length;C++)h.push(I.data[C])}else if("L"==M.value[j][0]){g=M.value[j-1][M.value[j-1].length-2],y=M.value[j-1][M.value[j-1].length-1],d=M.value[j][1],x=M.value[j][2];var m=svgOut.path("M "+g+" "+y+" L "+d+" "+x).stroke({width:0}).fill("none");if("empty"!=(I=w.intersectionLineLine(c,m)).type)for(var C=0;C<I.data.length;C++)h.push(I.data[C])}}newSolution=[];for(var I,k=0;k<h.length;k++){I=h[k];for(var O,q=!0,S=0;S<newSolution.length;S++)O=newSolution[S],2==I.length?Math.floor(1e4*I[0])==Math.floor(1e4*O[0])&&Math.floor(1e4*I[1])==Math.floor(1e4*O[1])&&(q=!1):Math.floor(1e4*I[2])==Math.floor(1e4*O[2])&&(q=!1);q&&(2==I.length?newSolution.push([I[0],I[1]]):newSolution.push([I[0],I[1],I[2]]))}if(0!=newSolution.length)B=new e("point",newSolution);else var B=new e("empty",[[]]);return B},w}).call(this),function(){function e(e,t){this.value=e,this.type=t}function t(e){return e%2==0}function a(e,t,n,i){var r=e[0],o=e[1],u=e[2],v=e[3],s=e[4],f=e[5],h=e[6],p=e[7],c=[];i.data.sort(function(e,t){return e[2]>t[2]});var e=svgOut.path("M "+r+" "+o+" C "+u+" "+v+" "+s+" "+f+" "+h+" "+p).stroke({width:0}).fill("none");if("ellipse"==t.type)M=Intersection.intersectionBezierEllipse(e,t);else if("path"==t.type)var M=Intersection.intersectionPathPath(e,t);for(var g in M.data)M.data[g][2]>1e-5&&M.data[g][2]<.99999&&c.push(M.data[g]);if(c.sort(function(e,t){return e[2]>t[2]}),c.length>1&&n<i.data.length){var y=l([r,o,u,v,s,f,h,p],c[0])[0],d=l([r,o,u,v,s,f,h,p],c[0])[1],w=a(y,t,n+=1,i),x=a(d,t,n,i);return Array.prototype.concat(w,x)}return 0!=c.length&&n<i.data.length?l([r,o,u,v,s,f,h,p],c[0]):[[r,o,u,v,s,f,h,p]]}function n(e,t,a,l){var r=e[0],o=e[1],u=e[2],v=e[3],s=[];if(r!=u){l.data.sort(function(e,t){return e[0]>t[0]});e=svgOut.path("M "+r+" "+o+" L "+u+" "+v).stroke({width:0}).fill("none");if("ellipse"==t.type)h=Intersection.intersectionEllipseLine(t,e);else if("path"==t.type)h=Intersection.intersectionPathPath(e,t);for(var f in h.data)Math.floor(1e4*h.data[f][0])==Math.floor(1e4*r)&&Math.floor(1e4*h.data[f][1])==Math.floor(1e4*o)||Math.floor(1e4*h.data[f][0])==Math.floor(1e4*u)&&Math.floor(1e4*h.data[f][1])==Math.floor(1e4*v)||Math.floor(1e4*h.data[f][0])==Math.floor(1e4*u)&&Math.floor(1e4*h.data[f][1])==Math.floor(1e4*v)||Math.floor(1e4*h.data[f][0])==Math.floor(1e4*r)&&Math.floor(1e4*h.data[f][1])==Math.floor(1e4*o)||s.push(h.data[f]);s.sort(function(e,t){return e[0]>t[0]})}else{l.data.sort(function(e,t){return e[1]>t[1]});var e=svgOut.path("M "+r+" "+o+" L "+u+" "+v).stroke({width:0}).fill("none");if("ellipse"==t.type)h=Intersection.intersectionEllipseLine(t,e);else if("path"==t.type)var h=Intersection.intersectionPathPath(e,t);for(var f in h.data)Math.floor(1e4*h.data[f][0])==Math.floor(1e4*r)&&Math.floor(1e4*h.data[f][1])==Math.floor(1e4*o)||Math.floor(1e4*h.data[f][0])==Math.floor(1e4*u)&&Math.floor(1e4*h.data[f][1])==Math.floor(1e4*v)||Math.floor(1e4*h.data[f][0])==Math.floor(1e4*u)&&Math.floor(1e4*h.data[f][1])==Math.floor(1e4*v)||Math.floor(1e4*h.data[f][0])==Math.floor(1e4*r)&&Math.floor(1e4*h.data[f][1])==Math.floor(1e4*o)||s.push(h.data[f]);s.sort(function(e,t){return e[1]>t[1]})}if("empty"==l.type)return[[r,o,u,v]];if(s.length>1&&a<l.data.length){var p=i([r,o,u,v],s[0])[0],c=i([r,o,u,v],s[0])[1],M=n(p,t,a+=1,l),g=n(c,t,a,l);return Array.prototype.concat(M,g)}return 0!=s.length&&a<l.data.length?i([r,o,u,v],s[0]):[[r,o,u,v]]}function i(e,t){if(Math.floor(1e4*t[0])==Math.floor(1e4*e[0])&&Math.floor(1e4*t[0])==Math.floor(1e4*e[2])&&Math.floor(1e4*t[1])==Math.floor(1e4*e[1])&&Math.floor(1e4*t[1])==Math.floor(1e4*e[3]))a=e;else var a=[[e[0],e[1],t[0],t[1]],[t[0],t[1],e[2],e[3]]];return a}function l(e,t){var a=e[0],n=e[1],i=e[2],l=e[3],r=e[4],o=e[5],u=e[6],v=e[7],s=t[2];if(Math.floor(1e4*t[0])==Math.floor(1e4*a)&&Math.floor(1e4*t[0])==Math.floor(1e4*u)&&Math.floor(1e4*t[1])==Math.floor(1e4*n)&&Math.floor(1e4*t[1])==Math.floor(1e4*v))z=[a,n,i,l,r,o,u,v];else{var f=(i-a)*s+a,h=(l-n)*s+n,p=(r-i)*s+i,c=(o-l)*s+l,M=(u-r)*s+r,g=(v-o)*s+o,y=(p-f)*s+f,d=(c-h)*s+h,w=(M-p)*s+p,x=(g-c)*s+c,P=(w-y)*s+y,b=(x-d)*s+d;bezier1=[a,n,f,h,y,d,P,b],bezier2=[P,b,w,x,M,g,u,v];var z=[bezier1,bezier2]}return z}var r=this,o=r.Splitting,u={};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=u),exports.Splitting=u):r.Splitting=u,u.noConflict=function(){return r.Splitting=o,u};u.phase1=function(i,l,r){var o=[],v=[];if("ellipse"==l.type){z=i.array();for(var s in z.value)if("C"==z.value[s][0]){var f=z.value[s-1][z.value[s-1].length-2],h=z.value[s-1][z.value[s-1].length-1],p=z.value[s][1],c=z.value[s][2],M=z.value[s][3],g=z.value[s][4],y=z.value[s][5],d=z.value[s][6],i=svgOut.path("M "+f+" "+h+" C "+p+" "+c+" "+M+" "+g+" "+y+" "+d).stroke({width:0}).fill("none"),w=a([f,h,p,c,M,g,y,d],l,r,I=Intersection.intersectionBezierEllipse(i,l)),x=u.cutting(f,h,l),P=[];for(var b in w)t(x)?t(b)||P.push(w[b]):t(b)&&P.push(w[b]);v=new e([P],"b");o.push(v)}else if("L"==z.value[s][0]){var f=z.value[s-1][z.value[s-1].length-2],h=z.value[s-1][z.value[s-1].length-1],p=z.value[s][1],c=z.value[s][2],i=svgOut.path("M "+f+" "+h+" L "+p+" "+c).stroke({width:0}).fill("none"),w=n([f,h,p,c],l,r,I=Intersection.intersectionEllipseLine(i,l)),x=u.cutting(f,h,l),P=[];for(var b in w)t(x)?t(b)||P.push(w[b]):t(b)&&P.push(w[b]);v=new e([P],"l");o.push(v)}}else if("path"==l.type){var z=i.array();for(var s in z.value)if("C"==z.value[s][0]){for(var f=z.value[s-1][z.value[s-1].length-2],h=z.value[s-1][z.value[s-1].length-1],p=z.value[s][1],c=z.value[s][2],M=z.value[s][3],g=z.value[s][4],y=z.value[s][5],d=z.value[s][6],i=svgOut.path("M "+f+" "+h+" C "+p+" "+c+" "+M+" "+g+" "+y+" "+d).stroke({width:0}).fill("none"),w=a([f,h,p,c,M,g,y,d],l,r,I=Intersection.intersectionPathPath(i,l)),j=!1,L=l.array(),m=0;m<L.value.length;m++)(C=L.value[m])[C.length-2]==f&&C[C.length-1]==h&&(j=!0);if(j)x=u.cutting(y,d,l);else x=u.cutting(f,h,l);P=[];for(var b in w)t(x)?t(b)||P.push(w[b]):t(b)&&P.push(w[b]);v=new e([P],"b");o.push(v)}else if("L"==z.value[s][0]){for(var C,f=z.value[s-1][z.value[s-1].length-2],h=z.value[s-1][z.value[s-1].length-1],p=z.value[s][1],c=z.value[s][2],i=svgOut.path("M "+f+" "+h+" L "+p+" "+c).stroke({width:0}).fill("none"),I=Intersection.intersectionPathPath(i,l),w=n([f,h,p,c],l,r,I),j=!1,L=l.array(),m=0;m<L.value.length;m++)(C=L.value[m])[C.length-2]==f&&C[C.length-1]==h&&(j=!0);if(j)x=u.cutting(p,c,l);else x=u.cutting(f,h,l);P=[];for(var b in w)t(x)?t(b)||P.push(w[b]):t(b)&&P.push(w[b]);v=new e([P],"l");o.push(v)}}return o},u.cutting=function(e,t,a){var n=svgOut.path("M -10 -10 L "+e+" "+t).stroke({width:0}).fill("none");if("ellipse"==a.type)i=Intersection.intersectionEllipseLine(a,n);else if("path"==a.type)var i=Intersection.intersectionPathPath(n,a);return"empty"==i.type?0:i.data.length}}.call(this),function(){function e(e,t){var a=Splitting.phase1(e,t,0);for(var n in a)if("l"==a[n].type)for(var i in a[n].value[0]){l=a[n].value[0][i];svg.path("M "+l[0]+" "+l[1]+" L "+l[2]+" "+l[3]).stroke({width:1}).fill("none")}else if("b"==a[n].type)for(var i in a[n].value[0]){var l=a[n].value[0][i];svg.path("M "+l[0]+" "+l[1]+" C "+l[2]+" "+l[3]+" "+l[4]+" "+l[5]+" "+l[6]+" "+l[7]).stroke({width:1}).fill("none")}}function t(t,a,n,i,l,r,o,u,v){var s="",f=o.array();for(var h in f.value){if("M"==f.value[h][0])var p="M "+(f.value[h][1]+1*u+a*i)+" "+(f.value[h][2]+1*v+n*l),s=s.concat(p);else if("C"==f.value[h][0])var p=" C "+(f.value[h][1]+1*u+a*i)+" "+(f.value[h][2]+1*v+n*l)+" "+(f.value[h][3]+1*u+a*i)+" "+(f.value[h][4]+1*v+n*l)+" "+(f.value[h][5]+1*u+a*i)+" "+(f.value[h][6]+1*v+n*l),s=s.concat(p);else if("L"==f.value[h][0])var p=" L "+(f.value[h][1]+1*u+a*i)+" "+(f.value[h][2]+1*v+n*l),s=s.concat(p);else if("Z"==f.value[h][0]){g=svgOut.path(s).stroke({width:0}).fill("none");if("path"==r.type){var c="",M=r.array();for(var h in M.value)if("M"==M.value[h][0])var p="M "+M.value[h][1]+" "+M.value[h][2],c=c.concat(p);else if("C"==M.value[h][0])var p=" C "+M.value[h][1]+" "+M.value[h][2]+" "+M.value[h][3]+" "+M.value[h][4]+" "+M.value[h][5]+" "+M.value[h][6],c=c.concat(p);else if("L"==M.value[h][0])var p=" L "+M.value[h][1]+" "+M.value[h][2],c=c.concat(p);else if("Z"==M.value[h][0])break;y=svgOut.path(c).stroke({width:0}).fill("none")}else y=r;e(g,y),s=""}if("Z"!=f.value[f.value.length-1][0]){var g=svgOut.path(s).stroke({width:0}).fill("none");if("path"==r.type){var c="",M=r.array();for(var h in M.value)if("M"==M.value[h][0])var p="M "+M.value[h][1]+" "+M.value[h][2],c=c.concat(p);else if("C"==M.value[h][0])var p=" C "+M.value[h][1]+" "+M.value[h][2]+" "+M.value[h][3]+" "+M.value[h][4]+" "+M.value[h][5]+" "+M.value[h][6],c=c.concat(p);else if("L"==M.value[h][0])var p=" L "+M.value[h][1]+" "+M.value[h][2],c=c.concat(p);else if("Z"==M.value[h][0])break;y=svgOut.path(c).stroke({width:0}).fill("none")}else var y=r;e(g,y)}}}var a={},n=this,i=n.shapedPattern;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=a),exports.shapedPattern=a):n.shapedPattern=a,a.noConflict=function(){return n.shapedPattern=i,a};return a.createSVG=function(e){var t=new Blob([e.svg()],{type:"image/svg+xml"}),a=URL.createObjectURL(t);lien=document.getElementById("download"),lien.setAttribute("href",a)},a.run=function(e,a,n,i,l,r,o,u,v){for(var s=0;s<r;s++)for(var f=0;f<o;f++)t(0,i,l,s,f,a,n,u,v)},a}.call(this);